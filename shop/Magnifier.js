function Magnifier(e,b,a,d,f){this.smallBox=document.getElementById(e);this.trapLayout=document.getElementById(b);this.bigBox=document.getElementById(a);this.bigBoxImg=document.getElementById(d);this.scale=f;var c=this;this.smallBox.addEventListener("mouseover",function(g){Magnifier.prototype.moveInSmallBox(g,c,f)},false);this.smallBox.addEventListener("mousemove",function(g){Magnifier.prototype.move(g,c.smallBox,c)},false);this.smallBox.addEventListener("mouseout",function(){c.trapLayout.style.display="none";c.bigBox.style.display="none"},false)}Magnifier.prototype.moveInSmallBox=function(b,a){a.trapLayout.style.display="block";bigBox.style.display="block";Magnifier.prototype.move(b,a.smallBox,a)};Magnifier.prototype.moveOut=function(){this.trapLayout.style.display="none";this.bigBox.style.display="none";document.removeEventListener("mousemove",function(a){move(a,smallBox,trapLayout,scale)},false)};Magnifier.prototype.move=function(c,a,b){this.sumOffLeft=this.sumOffset(a,"offsetLeft");this.sumOffTop=this.sumOffset(a,"offsetTop");this.layoutX=c.pageX-this.sumOffLeft-b.trapLayout.offsetWidth/2;this.layoutY=c.pageY-this.sumOffTop-b.trapLayout.offsetHeight/2;if(this.layoutX<=0){this.layoutX=0}else{if(this.layoutX>=b.smallBox.offsetWidth-b.trapLayout.offsetWidth){this.layoutX=b.smallBox.offsetWidth-b.trapLayout.offsetWidth}}if(this.layoutY<=0){this.layoutY=0}else{if(this.layoutY>=b.smallBox.offsetHeight-b.trapLayout.offsetHeight){this.layoutY=b.smallBox.offsetHeight-b.trapLayout.offsetHeight}}b.trapLayout.style.left=b.layoutX+"px";b.trapLayout.style.top=b.layoutY+"px";b.bigBoxImg.style.left=-b.layoutX*b.scale+"px";b.bigBoxImg.style.top=-b.layoutY*b.scale+"px"};Magnifier.prototype.sumOffset=function(a,b){var c=null;while(a!==document){c+=a[b];a=a.parentNode}return c};